"use strict";(self.webpackChunkheadless_doc=self.webpackChunkheadless_doc||[]).push([[9741],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>g});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},s=Object.keys(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)n=s[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var p=a.createContext({}),i=function(e){var t=a.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=i(e.components);return a.createElement(p.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,s=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=i(n),m=r,g=c["".concat(p,".").concat(m)]||c[m]||d[m]||s;return n?a.createElement(g,o(o({ref:t},u),{},{components:n})):a.createElement(g,o({ref:t},u))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var s=n.length,o=new Array(s);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var i=2;i<s;i++)o[i]=n[i];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},853:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>E,contentTitle:()=>P,default:()=>q,frontMatter:()=>S,metadata:()=>C,toc:()=>A});var a=n(7462),r=n(7294),s=n(3905),o=n(6010),l=n(2466),p=n(6550),i=n(1980),u=n(7392),c=n(12);function d(e){return function(e){return r.Children.map(e,(e=>{if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}function m(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,u.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function g(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const a=(0,p.k6)(),s=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,i._X)(s),(0,r.useCallback)((e=>{if(!s)return;const t=new URLSearchParams(a.location.search);t.set(s,e),a.replace({...a.location,search:t.toString()})}),[s,a])]}function f(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,s=m(e),[o,l]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!g({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=n.find((e=>e.default))??n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:t,tabValues:s}))),[p,i]=h({queryString:n,groupId:a}),[u,d]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,s]=(0,c.Nk)(n);return[a,(0,r.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:a}),f=(()=>{const e=p??u;return g({value:e,tabValues:s})?e:null})();(0,r.useLayoutEffect)((()=>{f&&l(f)}),[f]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!g({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),i(e),d(e)}),[i,d,s]),tabValues:s}}var k=n(2389);const v="tabList__CuJ",y="tabItem_LNqP";function b(e){let{className:t,block:n,selectedValue:s,selectValue:p,tabValues:i}=e;const u=[],{blockElementScrollPositionUntilNextRender:c}=(0,l.o5)(),d=e=>{const t=e.currentTarget,n=u.indexOf(t),a=i[n].value;a!==s&&(c(t),p(a))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=u.indexOf(e.currentTarget)+1;t=u[n]??u[0];break}case"ArrowLeft":{const n=u.indexOf(e.currentTarget)-1;t=u[n]??u[u.length-1];break}}t?.focus()};return r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":n},t)},i.map((e=>{let{value:t,label:n,attributes:l}=e;return r.createElement("li",(0,a.Z)({role:"tab",tabIndex:s===t?0:-1,"aria-selected":s===t,key:t,ref:e=>u.push(e),onKeyDown:m,onClick:d},l,{className:(0,o.Z)("tabs__item",y,l?.className,{"tabs__item--active":s===t})}),n??t)})))}function w(e){let{lazy:t,children:n,selectedValue:a}=e;if(n=Array.isArray(n)?n:[n],t){const e=n.find((e=>e.props.value===a));return e?(0,r.cloneElement)(e,{className:"margin-top--md"}):null}return r.createElement("div",{className:"margin-top--md"},n.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==a}))))}function x(e){const t=f(e);return r.createElement("div",{className:(0,o.Z)("tabs-container",v)},r.createElement(b,(0,a.Z)({},e,t)),r.createElement(w,(0,a.Z)({},e,t)))}function j(e){const t=(0,k.Z)();return r.createElement(x,(0,a.Z)({key:String(t)},e))}const N="tabItem_Ymn6";function T(e){let{children:t,hidden:n,className:a}=e;return r.createElement("div",{role:"tabpanel",className:(0,o.Z)(N,a),hidden:n},t)}const S={slug:"/getting-started/setting-up-manually",sidebar_position:1},P="Setting up the framework from scratch",C={unversionedId:"Getting Started/setting-up-manually",id:"Getting Started/setting-up-manually",title:"Setting up the framework from scratch",description:"The recommended way to get started with the framework is by installing the official starter project. See Quick Setup for more information.",source:"@site/documentation/01-Getting Started/setting-up-manually.mdx",sourceDirName:"01-Getting Started",slug:"/getting-started/setting-up-manually",permalink:"/docs/learn/getting-started/setting-up-manually",draft:!1,editUrl:"https://github.com/10up/headstartwp/tree/trunk/docs/documentation/01-Getting Started/setting-up-manually.mdx",tags:[],version:"current",lastUpdatedBy:"N\xedcholas Andr\xe9",lastUpdatedAt:1717699930,formattedLastUpdatedAt:"Jun 6, 2024",sidebarPosition:1,frontMatter:{slug:"/getting-started/setting-up-manually",sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Quick Setup",permalink:"/docs/learn/getting-started/quick-setup"},next:{title:"Configuring the Framework",permalink:"/docs/learn/getting-started/headless-config"}},E={},A=[{value:"Bootstrap the Next.js project",id:"bootstrap-the-nextjs-project",level:2},{value:"headstartwp.config.js",id:"headstartwpconfigjs",level:3},{value:"Env variables",id:"env-variables",level:3},{value:"next.config.js",id:"nextconfigjs",level:3},{value:"pages/_app.js",id:"pages_appjs",level:3},{value:"Setting up the preview endpoint",id:"setting-up-the-preview-endpoint",level:3},{value:"Setting up the revalidate endpoint",id:"setting-up-the-revalidate-endpoint",level:3},{value:"Creating your first route",id:"creating-your-first-route",level:3},{value:"Add SSR/SSG",id:"add-ssrssg",level:3}],H={toc:A};function q(e){let{components:t,...r}=e;return(0,s.kt)("wrapper",(0,a.Z)({},H,r,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("h1",{id:"setting-up-the-framework-from-scratch"},"Setting up the framework from scratch"),(0,s.kt)("p",null,"The recommended way to get started with the framework is by installing the official starter project. See ",(0,s.kt)("a",{parentName:"p",href:"/learn/getting-started/quick-setup/"},"Quick Setup")," for more information."),(0,s.kt)("p",null,"This guide will help you set up the framework in a clean Next.js project."),(0,s.kt)("h2",{id:"bootstrap-the-nextjs-project"},"Bootstrap the Next.js project"),(0,s.kt)("p",null,"Start by bootstrapping your next.js project."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"npx create-next-app@latest --use-npm\n")),(0,s.kt)("p",null,"and install the following packages"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"npm install --save @headstartwp/core @headstartwp/next\n")),(0,s.kt)("h3",{id:"headstartwpconfigjs"},"headstartwp.config.js"),(0,s.kt)("p",null,"Create a ",(0,s.kt)("inlineCode",{parentName:"p"},"headstartwp.config.js")," file at the root of your Next.js project."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="headstartwp.config.js"',title:'"headstartwp.config.js"'},"/**\n * Headless Config\n *\n * @type {import('@headstartwp/core').HeadlessConfig}\n */\nmodule.exports = {\n    sourceUrl: process.env.NEXT_PUBLIC_HEADLESS_WP_URL,\n\n    useWordPressPlugin: true,\n};\n")),(0,s.kt)("h3",{id:"env-variables"},"Env variables"),(0,s.kt)("p",null,"Then create a ",(0,s.kt)("inlineCode",{parentName:"p"},".env")," (or ",(0,s.kt)("inlineCode",{parentName:"p"},".env.local"),") with the following contents:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"NEXT_PUBLIC_HEADLESS_WP_URL=https://my-wordpress.test\n")),(0,s.kt)("p",null,"You can call the env variable anything you want, just make sure to update ",(0,s.kt)("inlineCode",{parentName:"p"},"headstartwp.config.js")," accordingly."),(0,s.kt)("p",null,"If you're developing locally and your WordPress instance uses https but does not have a valid cert, add ",(0,s.kt)("inlineCode",{parentName:"p"},"NODE_TLS_REJECT_UNAUTHORIZED=0")," to your env variables."),(0,s.kt)("h3",{id:"nextconfigjs"},"next.config.js"),(0,s.kt)("p",null,"Create a ",(0,s.kt)("inlineCode",{parentName:"p"},"next.config.js")," file with the following contents:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=next.config.js",title:"next.config.js"},"const { withHeadstartWPConfig } = require('@headstartwp/next/config');\n\n/**\n * Update whatever you need within the nextConfig object.\n *\n * @type {import('next').NextConfig}\n */\nconst nextConfig = {};\n\nmodule.exports = withHeadstartWPConfig(nextConfig);\n")),(0,s.kt)("h3",{id:"pages_appjs"},"pages/_app.js"),(0,s.kt)("p",null,"Create a custom ",(0,s.kt)("inlineCode",{parentName:"p"},"_app.js")," to wrap the application with ",(0,s.kt)("inlineCode",{parentName:"p"},"HeadlessApp")," component."),(0,s.kt)(j,{mdxType:"Tabs"},(0,s.kt)(T,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=src/pages/_app.tsx",title:"src/pages/_app.tsx"},"type MyAppProps = {\n    themeJson: Record<string, unknown>;\n    fallback: Record<string, unknown>;\n};\n\nconst MyApp = ({ Component, pageProps }: AppProps<MyAppProps>) => {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { fallback = {}, themeJson = {}, ...props } = pageProps;\n\n    return (\n        <HeadlessApp\n            pageProps={pageProps}\n            settings={{\n                // instruct the framework to use Next.js link component\n                // or your own version\n                linkComponent: Link,\n            }}\n            useYoastHtml\n        >\n            <Layout>\n                <Component {...props} />\n            </Layout>\n        </HeadlessApp>\n    );\n};\n"))),(0,s.kt)(T,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=src/pages/_app.js",title:"src/pages/_app.js"},"import { HeadlessApp } from '@headstartwp/next';\nimport Link from 'next/link';\nimport Router from 'next/router';\n\nimport '../styles.css';\n\nconst MyApp = ({ Component, pageProps }) => {\n    // only HeadlessApp needs fallback and themeJson, so we remove them from the props we pass down to the pages\n\n    // eslint-disable-next-line react/prop-types, no-unused-vars\n    const { fallback = {}, themeJson = {}, ...props } = pageProps;\n\n    return (\n        <HeadlessApp\n            pageProps={pageProps}\n            settings={{\n                // instruct the framework to use Next.js link component\n                // or your own version\n                linkComponent: Link,\n            }}\n            useYoastHtml\n        >\n            <Component {...props} />\n        </HeadlessApp>\n    );\n};\n\nexport default MyApp;\n")))),(0,s.kt)("h3",{id:"setting-up-the-preview-endpoint"},"Setting up the preview endpoint"),(0,s.kt)("p",null,"The WordPress plugin expects the preview endpoint to be located at ",(0,s.kt)("inlineCode",{parentName:"p"},"/api/preview"),"."),(0,s.kt)("p",null,"To enable support for previews, create a ",(0,s.kt)("inlineCode",{parentName:"p"},"src/pages/api/preview.js")," with the following contents:"),(0,s.kt)(j,{mdxType:"Tabs"},(0,s.kt)(T,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=src/pages/api/preview.ts",title:"src/pages/api/preview.ts"},"import { previewHandler } from '@headstartwp/next';\nimport type { NextApiRequest, NextApiResponse } from 'next';\n\n/**\n * The Preview endpoint just needs to proxy the default preview handler\n *\n * @param req Next.js request\n * @param res Next.js response\n *\n * @returns the preview handler\n */\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n    return previewHandler(req, res);\n}\n\n"))),(0,s.kt)(T,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=src/pages/api/preview.js",title:"src/pages/api/preview.js"},"import { previewHandler } from '@headstartwp/next';\n\n/**\n * The Preview endpoint just needs to proxy the default preview handler\n *\n * @param {*} req Next.js request object\n * @param {*} res  Next.js response object\n *\n * @returns\n */\nexport default async function handler(req, res) {\n    return previewHandler(req, res);\n}\n")))),(0,s.kt)("h3",{id:"setting-up-the-revalidate-endpoint"},"Setting up the revalidate endpoint"),(0,s.kt)("p",null,"The framework supports ISR revalidation triggered by WordPress. To enable ISR revalidate, make sure you have the WordPress plugin enabled and activate the option in WordPress settings."),(0,s.kt)("p",null,(0,s.kt)("img",{alt:"ISR Option",src:n(2652).Z,width:"1830",height:"342"})),(0,s.kt)("p",null,"Then add the ",(0,s.kt)("inlineCode",{parentName:"p"},"revalidateHandler")," to ",(0,s.kt)("inlineCode",{parentName:"p"},"src/pages/api/revalidate.js")),(0,s.kt)(j,{mdxType:"Tabs"},(0,s.kt)(T,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts",metastring:"title=src/pages/api/revalidate.ts",title:"src/pages/api/revalidate.ts"},"import { revalidateHandler } from '@headstartwp/next';\nimport type { NextApiRequest, NextApiResponse } from 'next';\n\n/**\n * The revalidate endpoint just needs to proxy the default revalidate handler\n *\n * @param req Next.js request\n * @param res Next.js response\n *\n * @returns the revalidate handler\n */\nexport default async function handler(req: NextApiRequest, res: NextApiResponse) {\n    return revalidateHandler(req, res);\n}\n\n"))),(0,s.kt)(T,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=src/pages/api/revalidate.js",title:"src/pages/api/revalidate.js"},"import { revalidateHandler } from '@headstartwp/next';\n\n/**\n * The revalidate endpoint just needs to proxy the default revalidate handler\n *\n * @param {*} req Next.js request object\n * @param {*} res  Next.js response object\n *\n * @returns\n */\nexport default async function handler(req, res) {\n    return revalidateHandler(req, res);\n}\n")))),(0,s.kt)("h3",{id:"creating-your-first-route"},"Creating your first route"),(0,s.kt)("p",null,"To make sure everything is working as expected create a catch-all route called ",(0,s.kt)("inlineCode",{parentName:"p"},"pages/[...path].js"),". This route will be responsible for rendering single post and pages."),(0,s.kt)("p",null,"By creating a ",(0,s.kt)("inlineCode",{parentName:"p"},"[...path].js")," route, the framework will automatically detect and extract URL parameters from the ",(0,s.kt)("inlineCode",{parentName:"p"},"path")," argument."),(0,s.kt)(j,{mdxType:"Tabs"},(0,s.kt)(T,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=src/pages/[...path].tsx",title:"src/pages/[...path].tsx"},"import type { PostParams } from '@headstartwp/core';\nimport {\n    usePost,\n    fetchHookData,\n    addHookData,\n    handleError,\n    usePosts\n} from '@headstartwp/next';\nimport { BlocksRenderer } from '@headstartwp/core/react';\n\nconst params: PostParams = { postType: ['post', 'page' ] };\n\nconst SinglePostsPage = () => {\n    const { loading, error, data } = usePost(params);\n\n    if (loading) {\n        return 'Loading...';\n    }\n\n    if (error) {\n        return 'error...';\n    }\n\n    return (\n        <div>\n            <h1>{data.post.title.rendered}</h1>\n            <BlocksRenderer html={data.post.content.rendered} />\n        </div>\n    );\n};\n\nexport default SinglePostsPage;\n"))),(0,s.kt)(T,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:"title=src/pages/[...path].js",title:"src/pages/[...path].js"},"import {\n    usePost,\n    fetchHookData,\n    addHookData,\n    handleError,\n    usePosts\n} from '@headstartwp/next';\nimport { BlocksRenderer } from '@headstartwp/core/react';\n\nconst params = { postType: ['post', 'page' ] };\n\nconst SinglePostsPage = () => {\n    const { loading, error, data } = usePost(params);\n\n    if (loading) {\n        return 'Loading...';\n    }\n\n    if (error) {\n        return 'error...';\n    }\n\n    return (\n        <div>\n            <h1>{data.post.title.rendered}</h1>\n            <BlocksRenderer html={data.post.content.rendered} />\n        </div>\n    );\n};\n\nexport default SinglePostsPage;\n")))),(0,s.kt)("p",null,"Then, visit any single post or page, e.g: ",(0,s.kt)("inlineCode",{parentName:"p"},"http://localhost:3000/hello-world")," and you should see both the title and the content of that post/page."),(0,s.kt)("p",null,"Date URLs will also work: e.g: ",(0,s.kt)("inlineCode",{parentName:"p"},"http://localhost:3000/2022/10/2/hello-world")),(0,s.kt)("h3",{id:"add-ssrssg"},"Add SSR/SSG"),(0,s.kt)("p",null,"With the example above, you might have noticed that the data is only being fetched on the client. You must use one of the Next.js data fetching methods to enable SSR/SSG."),(0,s.kt)("p",null,"Add this to the ",(0,s.kt)("inlineCode",{parentName:"p"},"pages/[...path].js")," file"),(0,s.kt)(j,{mdxType:"Tabs"},(0,s.kt)(T,{value:"ts",label:"TypeScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-ts",metastring:'title="src/pages/[...path].tsx"',title:'"src/pages/[...path].tsx"'},"import type { HeadlessGetStaticProps } from '@headstartwp/next';\n\nexport const getStaticProps = (async (context) => {\n    try {\n        const settledPromises = await resolveBatch([\n            {\n                func: fetchHookData(usePost.fetcher(), context, { params: singleParams }),\n            },\n            { func: fetchHookData(useAppSettings.fetcher(), context) },\n        ]);\n\n        return addHookData(settledPromises, { revalidate: 5 * 60 });\n    } catch (e) {\n        return handleError(e, context);\n    }\n}) satisfies HeadlessGetStaticProps;\n\n// `satisfies` allow TS to infer the correct types for context as well as makes it\n// possible to correctly infer the page props\n"))),(0,s.kt)(T,{value:"js",label:"JavaScript",mdxType:"TabItem"},(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="src/pages/[...path].js"',title:'"src/pages/[...path].js"'},"// or export async function getServerSideProps(context)\nexport async function getStaticProps(context) {\n    try {\n        // make sure to pass the same params to fetchHookData and usePost\n        const usePostData = await fetchHookData(usePost.fetcher(), context, { params });\n\n        return addHookData([usePostData], {});\n    } catch (e) {\n        return handleError(e, context);\n    }\n}\n")))),(0,s.kt)("p",null,"Then refresh the page and voil\xe1! Data is now being fetched on the server."))}q.isMDXComponent=!0},2652:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/revalidate-option-2ea5f7ed5040a6a9df3edd4ef64315e2.png"}}]);